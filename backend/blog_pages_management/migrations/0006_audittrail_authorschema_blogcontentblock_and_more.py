# Generated by Django 5.0.14 on 2025-11-21 12:09

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('blog_pages_management', '0005_create_pdf_sample_models'),
        ('service_pages_management', '0004_servicepagecta_servicepageedithistory_servicepagefaq_and_more'),
        ('websites', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AuditTrail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content_type', models.CharField(help_text="Type of content (e.g., 'blog_post', 'service_page')", max_length=100)),
                ('content_id', models.PositiveIntegerField(help_text='ID of the content object')),
                ('action', models.CharField(choices=[('create', 'Created'), ('update', 'Updated'), ('delete', 'Deleted'), ('publish', 'Published'), ('unpublish', 'Unpublished'), ('archive', 'Archived'), ('restore', 'Restored'), ('submit', 'Submitted for Review'), ('approve', 'Approved'), ('reject', 'Rejected'), ('lock', 'Locked'), ('unlock', 'Unlocked')], db_index=True, max_length=20)),
                ('field_changes', models.JSONField(blank=True, default=dict, help_text="Fields that were changed: {field_name: {'old': ..., 'new': ...}}")),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional metadata about the action')),
                ('ip_address', models.GenericIPAddressField(blank=True, help_text='IP address of the user', null=True)),
                ('user_agent', models.CharField(blank=True, help_text='User agent string', max_length=500)),
                ('performed_at', models.DateTimeField(auto_now_add=True, db_index=True)),
            ],
            options={
                'ordering': ['-performed_at'],
            },
        ),
        migrations.CreateModel(
            name='AuthorSchema',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('given_name', models.CharField(blank=True, help_text='First name', max_length=100)),
                ('family_name', models.CharField(blank=True, help_text='Last name', max_length=100)),
                ('job_title', models.CharField(blank=True, help_text='Job title/designation', max_length=255)),
                ('works_for', models.CharField(blank=True, help_text='Organization/Company name', max_length=255)),
                ('email', models.EmailField(blank=True, help_text='Email (for Schema.org)', max_length=254)),
                ('telephone', models.CharField(blank=True, help_text='Phone number', max_length=50)),
                ('address', models.JSONField(blank=True, default=dict, help_text='Address object (street, city, state, country, postalCode)')),
                ('same_as', models.JSONField(blank=True, default=list, help_text='List of URLs (social profiles, website) for sameAs property')),
                ('knows_about', models.JSONField(blank=True, default=list, help_text='List of topics the author knows about')),
                ('award', models.TextField(blank=True, help_text='Awards or recognition')),
                ('google_author_id', models.CharField(blank=True, help_text='Google+ profile ID or Google author page', max_length=100)),
                ('verified_mark', models.BooleanField(default=False, help_text='Verified author badge')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Author Schema Data',
                'verbose_name_plural': 'Author Schema Data',
            },
        ),
        migrations.CreateModel(
            name='BlogContentBlock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('position', models.IntegerField(help_text='Position in content (paragraph/heading index)')),
                ('auto_insert', models.BooleanField(default=False, help_text='Whether this was auto-inserted')),
                ('custom_data', models.JSONField(blank=True, default=dict, help_text='Blog-specific data overriding template data')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['position'],
            },
        ),
        migrations.CreateModel(
            name='BlogCTAPlacement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('placement_type', models.CharField(choices=[('auto_top', 'Auto-insert at top'), ('auto_middle', 'Auto-insert in middle'), ('auto_bottom', 'Auto-insert at bottom'), ('after_paragraph', 'After specific paragraph'), ('after_heading', 'After specific heading'), ('manual', 'Manually placed')], default='manual', max_length=20)),
                ('position', models.IntegerField(default=0, help_text='Position in content (paragraph number, heading index, etc.)')),
                ('is_active', models.BooleanField(default=True)),
                ('display_conditions', models.JSONField(blank=True, default=dict, help_text="Conditions for showing this CTA (e.g., {'scroll_percent': 50})")),
                ('click_count', models.PositiveIntegerField(default=0)),
                ('conversion_count', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='BlogEditHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('previous_content', models.TextField(help_text='Previous version of content')),
                ('current_content', models.TextField(help_text='New version of content')),
                ('changes_summary', models.TextField(blank=True, help_text='Summary of changes made')),
                ('fields_changed', models.JSONField(blank=True, default=list, help_text='List of field names that were changed')),
                ('edit_reason', models.CharField(blank=True, help_text='Reason for the edit', max_length=255)),
                ('edited_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['-edited_at'],
            },
        ),
        migrations.CreateModel(
            name='BlogPostAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('draft_creation_date', models.DateTimeField(blank=True, help_text='When the draft was first created', null=True)),
                ('time_to_first_edit', models.FloatField(blank=True, help_text='Time from creation to first edit (in hours)', null=True)),
                ('time_in_draft', models.FloatField(blank=True, help_text='Total time spent in draft status (in hours)', null=True)),
                ('time_in_review', models.FloatField(blank=True, help_text='Total time spent in review (in hours)', null=True)),
                ('total_edits', models.PositiveIntegerField(default=0)),
                ('total_revisions', models.PositiveIntegerField(default=0)),
                ('total_autosaves', models.PositiveIntegerField(default=0)),
                ('last_edited_at', models.DateTimeField(blank=True, null=True)),
                ('submission_count', models.PositiveIntegerField(default=0, help_text='Number of times submitted for review')),
                ('approval_count', models.PositiveIntegerField(default=0, help_text='Number of times approved')),
                ('rejection_count', models.PositiveIntegerField(default=0, help_text='Number of times rejected')),
                ('publish_delay', models.FloatField(blank=True, help_text='Delay from scheduled time to actual publish (in hours)', null=True)),
                ('was_on_time', models.BooleanField(default=True, help_text='Whether published on scheduled time')),
                ('clicks_day_1', models.PositiveIntegerField(default=0)),
                ('clicks_week_1', models.PositiveIntegerField(default=0)),
                ('clicks_month_1', models.PositiveIntegerField(default=0)),
                ('conversions_day_1', models.PositiveIntegerField(default=0)),
                ('conversions_week_1', models.PositiveIntegerField(default=0)),
                ('conversions_month_1', models.PositiveIntegerField(default=0)),
                ('click_velocity', models.FloatField(default=0, help_text='Clicks per day')),
                ('conversion_rate', models.FloatField(default=0, help_text='Conversion rate (conversions/clicks)')),
                ('last_calculated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='BlogPostAutoSave',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('content', models.TextField()),
                ('meta_title', models.CharField(blank=True, max_length=255)),
                ('meta_description', models.TextField(blank=True)),
                ('authors_data', models.JSONField(blank=True, default=list)),
                ('tags_data', models.JSONField(blank=True, default=list)),
                ('category_id', models.PositiveIntegerField(blank=True, null=True)),
                ('saved_at', models.DateTimeField(auto_now_add=True)),
                ('is_recovered', models.BooleanField(default=False, help_text='Whether this autosave was recovered/used')),
            ],
            options={
                'ordering': ['-saved_at'],
            },
        ),
        migrations.CreateModel(
            name='BlogPostEditLock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('locked_at', models.DateTimeField(auto_now_add=True)),
                ('expires_at', models.DateTimeField(help_text='When the lock expires (default: 30 minutes)')),
                ('is_active', models.BooleanField(default=True, help_text='Whether the lock is currently active')),
            ],
        ),
        migrations.CreateModel(
            name='BlogPostPreview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('token', models.CharField(db_index=True, help_text='Unique preview token', max_length=64, unique=True)),
                ('expires_at', models.DateTimeField(help_text='When the preview link expires')),
                ('is_active', models.BooleanField(default=True, help_text='Whether the preview link is active')),
                ('view_count', models.PositiveIntegerField(default=0, help_text='Number of times preview was viewed')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='BlogPostReviewComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('comment', models.TextField(help_text='Review comment or feedback')),
                ('is_resolved', models.BooleanField(default=False, help_text='Whether the comment has been addressed')),
                ('resolved_at', models.DateTimeField(blank=True, null=True)),
                ('highlighted_text', models.TextField(blank=True, help_text='Specific text being commented on')),
                ('content_metadata', models.JSONField(blank=True, default=dict, help_text='Additional metadata (e.g., field name, position)')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='BlogPostRevision',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('revision_number', models.PositiveIntegerField(help_text='Sequential revision number')),
                ('title', models.CharField(max_length=255)),
                ('content', models.TextField()),
                ('meta_title', models.CharField(blank=True, max_length=255)),
                ('meta_description', models.TextField(blank=True)),
                ('authors_data', models.JSONField(blank=True, default=list, help_text='List of author IDs at time of revision')),
                ('tags_data', models.JSONField(blank=True, default=list, help_text='List of tag IDs at time of revision')),
                ('category_id', models.PositiveIntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('change_summary', models.TextField(blank=True, help_text='Summary of changes in this revision')),
                ('is_current', models.BooleanField(default=False, help_text='Whether this is the current published version')),
                ('revision_notes', models.TextField(blank=True, help_text='Notes or comments about this revision')),
                ('revision_tags', models.CharField(blank=True, help_text="Tags for categorizing revisions (e.g., 'major-update', 'typo-fix')", max_length=500)),
            ],
            options={
                'ordering': ['-revision_number'],
            },
        ),
        migrations.CreateModel(
            name='BlogPostWorkflow',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('submitted', 'Submitted for Review'), ('in_review', 'In Review'), ('approved', 'Approved'), ('rejected', 'Rejected'), ('published', 'Published')], db_index=True, default='draft', max_length=20)),
                ('submitted_at', models.DateTimeField(blank=True, null=True)),
                ('review_started_at', models.DateTimeField(blank=True, null=True)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('rejected_at', models.DateTimeField(blank=True, null=True)),
                ('rejection_reason', models.TextField(blank=True, help_text='Reason for rejection')),
                ('published_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='BlogSEOMetadata',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('article_type', models.CharField(default='BlogPosting', help_text='Schema.org article type (BlogPosting, NewsArticle, etc.)', max_length=50)),
                ('article_section', models.CharField(blank=True, help_text='Article section for Schema.org', max_length=255)),
                ('keywords', models.CharField(blank=True, help_text='Comma-separated keywords for SEO', max_length=500)),
                ('article_published_time', models.DateTimeField(blank=True, help_text='ISO 8601 date for Schema.org', null=True)),
                ('article_modified_time', models.DateTimeField(blank=True, help_text='ISO 8601 date for Schema.org', null=True)),
                ('article_author_url', models.URLField(blank=True, help_text='Author page URL for Schema.org')),
                ('og_type', models.CharField(default='article', help_text='Open Graph type', max_length=50)),
                ('og_title', models.CharField(blank=True, help_text='OG title (defaults to blog title if empty)', max_length=255)),
                ('og_description', models.TextField(blank=True, help_text='OG description')),
                ('og_image', models.ImageField(blank=True, help_text='OG image (1200x630px recommended)', null=True, upload_to='og_images/')),
                ('og_image_alt', models.CharField(blank=True, help_text='OG image alt text', max_length=255)),
                ('og_url', models.URLField(blank=True, help_text='Canonical URL for OG')),
                ('og_site_name', models.CharField(blank=True, help_text='Site name for OG', max_length=255)),
                ('twitter_card_type', models.CharField(choices=[('summary', 'Summary'), ('summary_large_image', 'Summary with Large Image'), ('app', 'App'), ('player', 'Player')], default='summary_large_image', max_length=20)),
                ('twitter_title', models.CharField(blank=True, help_text='Twitter title', max_length=255)),
                ('twitter_description', models.TextField(blank=True, help_text='Twitter description')),
                ('twitter_image', models.ImageField(blank=True, help_text='Twitter image (1200x675px recommended)', null=True, upload_to='twitter_images/')),
                ('twitter_site', models.CharField(blank=True, help_text='Twitter handle (e.g., @yourhandle)', max_length=100)),
                ('twitter_creator', models.CharField(blank=True, help_text='Twitter creator handle', max_length=100)),
                ('schema_breadcrumb', models.JSONField(blank=True, default=list, help_text='BreadcrumbList schema data')),
                ('schema_organization', models.JSONField(blank=True, default=dict, help_text='Organization schema data')),
                ('schema_rating', models.JSONField(blank=True, default=dict, help_text='AggregateRating schema (if applicable)')),
                ('google_news_keywords', models.CharField(blank=True, help_text='Google News keywords', max_length=500)),
                ('google_story', models.BooleanField(default=False, help_text='Enable Google AMP story format')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Blog SEO Metadata',
                'verbose_name_plural': 'Blog SEO Metadata',
            },
        ),
        migrations.CreateModel(
            name='ContentBlockTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('block_type', models.CharField(choices=[('table', 'Data Table'), ('info_box', 'Info Box'), ('warning_box', 'Warning Box'), ('tip_box', 'Tip Box'), ('quote', 'Quote Block'), ('statistics', 'Statistics Block'), ('timeline', 'Timeline'), ('comparison', 'Comparison Table'), ('testimonial', 'Testimonial Block'), ('pricing_table', 'Pricing Table')], max_length=20)),
                ('content', models.TextField(help_text='HTML/template content for this block')),
                ('template_data', models.JSONField(blank=True, default=dict, help_text='JSON data for dynamic content (e.g., table rows)')),
                ('css_classes', models.CharField(blank=True, help_text='Custom CSS classes', max_length=255)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='ContentPerformanceMetrics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('period_start', models.DateField(help_text='Start of the reporting period')),
                ('period_end', models.DateField(help_text='End of the reporting period')),
                ('total_posts_created', models.PositiveIntegerField(default=0)),
                ('total_posts_published', models.PositiveIntegerField(default=0)),
                ('total_drafts', models.PositiveIntegerField(default=0)),
                ('average_posts_per_day', models.FloatField(default=0)),
                ('average_draft_completion_rate', models.FloatField(default=0, help_text='Percentage of drafts that become published')),
                ('average_time_to_publish', models.FloatField(default=0)),
                ('abandoned_drafts', models.PositiveIntegerField(default=0, help_text='Drafts older than 30 days never published')),
                ('average_revisions_per_post', models.FloatField(default=0)),
                ('average_edits_per_post', models.FloatField(default=0)),
                ('total_clicks', models.PositiveIntegerField(default=0)),
                ('total_conversions', models.PositiveIntegerField(default=0)),
                ('average_clicks_per_post', models.FloatField(default=0)),
                ('average_conversions_per_post', models.FloatField(default=0)),
                ('top_performing_post_id', models.PositiveIntegerField(blank=True, null=True)),
                ('most_prolific_editor_id', models.PositiveIntegerField(blank=True, null=True)),
                ('total_editors_active', models.PositiveIntegerField(default=0)),
                ('calculated_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='ContentSnippet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Snippet name', max_length=255)),
                ('description', models.TextField(blank=True, help_text='Snippet description')),
                ('snippet_type', models.CharField(choices=[('text', 'Text'), ('html', 'HTML'), ('markdown', 'Markdown'), ('code', 'Code Block'), ('table', 'Table'), ('list', 'List')], default='text', max_length=20)),
                ('content', models.TextField(help_text='Snippet content')),
                ('tags', models.CharField(blank=True, help_text='Comma-separated tags for easy searching', max_length=500)),
                ('is_active', models.BooleanField(default=True)),
                ('usage_count', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-usage_count', 'name'],
            },
        ),
        migrations.CreateModel(
            name='ContentTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Template name', max_length=255)),
                ('description', models.TextField(blank=True, help_text='Template description')),
                ('template_type', models.CharField(choices=[('blog_post', 'Blog Post'), ('service_page', 'Service Page'), ('section', 'Content Section'), ('cta', 'CTA Block')], db_index=True, max_length=20)),
                ('title_template', models.CharField(blank=True, help_text='Title template (supports variables like {{title}})', max_length=255)),
                ('content_template', models.TextField(blank=True, help_text='Content template')),
                ('meta_title_template', models.CharField(blank=True, max_length=255)),
                ('meta_description_template', models.TextField(blank=True)),
                ('default_values', models.JSONField(blank=True, default=dict, help_text='Default values for template variables')),
                ('is_active', models.BooleanField(default=True, help_text='Whether template is active')),
                ('usage_count', models.PositiveIntegerField(default=0, help_text='Number of times template has been used')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-usage_count', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CTABlock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Internal name for this CTA block', max_length=255)),
                ('cta_type', models.CharField(choices=[('button', 'Button CTA'), ('banner', 'Banner CTA'), ('inline', 'Inline Text CTA'), ('popup', 'Popup/Modal CTA'), ('sidebar', 'Sidebar CTA'), ('footer', 'Footer CTA'), ('form', 'Form CTA'), ('download', 'Download CTA'), ('custom', 'Custom HTML')], default='button', max_length=20)),
                ('title', models.CharField(blank=True, help_text='CTA headline/title', max_length=255)),
                ('description', models.TextField(blank=True, help_text='CTA description text')),
                ('button_text', models.CharField(blank=True, help_text="Button/CTA text (e.g., 'Get Started', 'Download Now')", max_length=100)),
                ('button_url', models.URLField(blank=True, help_text='URL where the CTA links to')),
                ('style', models.CharField(choices=[('primary', 'Primary'), ('secondary', 'Secondary'), ('success', 'Success'), ('warning', 'Warning'), ('danger', 'Danger'), ('info', 'Info'), ('light', 'Light'), ('dark', 'Dark')], default='primary', max_length=20)),
                ('background_color', models.CharField(blank=True, help_text='Hex color code (e.g., #FF5733)', max_length=7)),
                ('text_color', models.CharField(blank=True, help_text='Hex color code for text', max_length=7)),
                ('custom_html', models.TextField(blank=True, help_text='Custom HTML for custom CTA type')),
                ('image', models.ImageField(blank=True, help_text='Image for banner/popup CTAs', null=True, upload_to='cta_images/')),
                ('is_active', models.BooleanField(default=True, help_text='Whether this CTA is currently active')),
                ('display_order', models.IntegerField(default=0, help_text='Order for displaying in lists')),
                ('conversion_goal', models.CharField(blank=True, help_text="Goal to track (e.g., 'order_placed', 'newsletter_signup')", max_length=100)),
                ('tracking_id', models.CharField(blank=True, help_text='Unique tracking ID for analytics', max_length=100)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['display_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='EditorAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_posts_created', models.PositiveIntegerField(default=0)),
                ('total_posts_published', models.PositiveIntegerField(default=0)),
                ('total_drafts', models.PositiveIntegerField(default=0)),
                ('average_time_to_publish', models.FloatField(blank=True, help_text='Average time from draft creation to publish (in hours)', null=True)),
                ('average_edit_time', models.FloatField(blank=True, help_text='Average time spent editing (in hours)', null=True)),
                ('total_editing_time', models.FloatField(default=0, help_text='Total time spent editing (in hours)')),
                ('average_revision_count', models.FloatField(default=0, help_text='Average number of revisions per post')),
                ('posts_requiring_revision', models.PositiveIntegerField(default=0, help_text='Number of posts that required revisions before approval')),
                ('total_clicks', models.PositiveIntegerField(default=0)),
                ('total_conversions', models.PositiveIntegerField(default=0)),
                ('average_clicks_per_post', models.FloatField(default=0)),
                ('average_conversions_per_post', models.FloatField(default=0)),
                ('on_time_publish_rate', models.FloatField(default=0, help_text='Percentage of posts published on time')),
                ('first_draft_approval_rate', models.FloatField(default=0, help_text='Percentage of posts approved on first submission')),
                ('last_calculated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='FAQSchema',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('question', models.CharField(help_text='FAQ question', max_length=500)),
                ('answer', models.TextField(help_text='FAQ answer (can include HTML)')),
                ('question_slug', models.SlugField(blank=True, help_text='URL-friendly slug for the question', max_length=255)),
                ('display_order', models.IntegerField(default=0, help_text='Order for displaying FAQs')),
                ('is_featured', models.BooleanField(default=False, help_text='Featured FAQs appear first')),
                ('upvote_count', models.PositiveIntegerField(default=0, help_text='Number of upvotes (for Schema.org)')),
                ('accepted_answer', models.BooleanField(default=False, help_text='Mark as accepted answer')),
                ('author_name', models.CharField(blank=True, help_text='Author name for Schema.org', max_length=255)),
                ('date_created', models.DateTimeField(auto_now_add=True, help_text='Date FAQ was created')),
                ('date_modified', models.DateTimeField(auto_now=True, help_text='Last modification date')),
            ],
            options={
                'verbose_name': 'FAQ with Schema',
                'verbose_name_plural': 'FAQs with Schema',
                'ordering': ['is_featured', 'display_order', 'question'],
            },
        ),
        migrations.CreateModel(
            name='PreviewTokenRateLimit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('token', models.CharField(db_index=True, max_length=64, unique=True)),
                ('view_count', models.PositiveIntegerField(default=0)),
                ('last_viewed_at', models.DateTimeField(blank=True, null=True)),
                ('blocked_until', models.DateTimeField(blank=True, help_text='Token blocked until this time', null=True)),
                ('is_blocked', models.BooleanField(default=False, help_text='Whether token is currently blocked')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='ServicePageAutoSave',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('header', models.CharField(max_length=255)),
                ('content', models.TextField()),
                ('meta_title', models.CharField(blank=True, max_length=255)),
                ('meta_description', models.TextField(blank=True)),
                ('saved_at', models.DateTimeField(auto_now_add=True)),
                ('is_recovered', models.BooleanField(default=False)),
            ],
            options={
                'ordering': ['-saved_at'],
            },
        ),
        migrations.CreateModel(
            name='ServicePageEditLock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('locked_at', models.DateTimeField(auto_now_add=True)),
                ('expires_at', models.DateTimeField()),
                ('is_active', models.BooleanField(default=True)),
            ],
        ),
        migrations.CreateModel(
            name='ServicePagePreview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('token', models.CharField(db_index=True, max_length=64, unique=True)),
                ('expires_at', models.DateTimeField()),
                ('is_active', models.BooleanField(default=True)),
                ('view_count', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='ServicePageRevision',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('revision_number', models.PositiveIntegerField()),
                ('title', models.CharField(max_length=255)),
                ('header', models.CharField(max_length=255)),
                ('content', models.TextField()),
                ('meta_title', models.CharField(blank=True, max_length=255)),
                ('meta_description', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('change_summary', models.TextField(blank=True)),
                ('is_current', models.BooleanField(default=False)),
            ],
            options={
                'ordering': ['-revision_number'],
            },
        ),
        migrations.CreateModel(
            name='WorkflowTransition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('from_status', models.CharField(max_length=20)),
                ('to_status', models.CharField(max_length=20)),
                ('transition_reason', models.TextField(blank=True, help_text='Reason for the status change')),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional transition metadata')),
                ('transitioned_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['-transitioned_at'],
            },
        ),
        migrations.AlterModelOptions(
            name='blogcategory',
            options={'ordering': ['is_featured', 'display_order', 'name'], 'verbose_name_plural': 'Blog Categories'},
        ),
        migrations.RenameIndex(
            model_name='pdfsample',
            new_name='blog_pages__section_13b287_idx',
            old_name='blog_pages__section_xyz789_idx',
        ),
        migrations.RenameIndex(
            model_name='pdfsample',
            new_name='blog_pages__downloa_df1e13_idx',
            old_name='blog_pages__downloa_def456_idx',
        ),
        migrations.RenameIndex(
            model_name='pdfsampledownload',
            new_name='blog_pages__pdf_sam_c027a4_idx',
            old_name='blog_pages__pdf_sam_ghi012_idx',
        ),
        migrations.RenameIndex(
            model_name='pdfsampledownload',
            new_name='blog_pages__user_id_ba6412_idx',
            old_name='blog_pages__user_id_jkl345_idx',
        ),
        migrations.RenameIndex(
            model_name='pdfsamplesection',
            new_name='blog_pages__blog_id_8061ac_idx',
            old_name='blog_pages__blog_id_abc123_idx',
        ),
        migrations.AlterField(
            model_name='blogcategory',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, null=True),
        ),
        migrations.AlterField(
            model_name='blogcategory',
            name='name',
            field=models.CharField(max_length=255),
        ),
        migrations.AlterField(
            model_name='blogcategory',
            name='slug',
            field=models.SlugField(blank=True),
        ),
        migrations.AlterField(
            model_name='blogcategory',
            name='website',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='blog_categories', to='websites.website'),
        ),
        migrations.AlterField(
            model_name='blogpost',
            name='content',
            field=models.TextField(),
        ),
        migrations.AlterField(
            model_name='blogpost',
            name='status',
            field=models.CharField(choices=[('draft', 'Draft'), ('scheduled', 'Scheduled'), ('published', 'Published'), ('archived', 'Archived')], db_index=True, default='draft', help_text='Publication status', max_length=20),
        ),
        migrations.AddIndex(
            model_name='blogcategory',
            index=models.Index(fields=['website', 'is_active'], name='blog_pages__website_dec68c_idx'),
        ),
        migrations.AddIndex(
            model_name='blogcategory',
            index=models.Index(fields=['slug'], name='blog_pages__slug_8308ad_idx'),
        ),
        migrations.AddField(
            model_name='audittrail',
            name='performed_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='audit_trails', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='authorschema',
            name='author',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='schema_data', to='blog_pages_management.authorprofile'),
        ),
        migrations.AddField(
            model_name='blogcontentblock',
            name='blog',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_blocks', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='blogctaplacement',
            name='blog',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cta_placements', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='blogedithistory',
            name='blog',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='edit_history', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='blogedithistory',
            name='edited_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='blog_edits', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostanalytics',
            name='blog',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='advanced_analytics', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='blogpostautosave',
            name='blog',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='autosaves', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='blogpostautosave',
            name='saved_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='blog_autosaves', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogposteditlock',
            name='blog',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='edit_lock', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='blogposteditlock',
            name='locked_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='blog_edit_locks', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostpreview',
            name='blog',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='previews', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='blogpostpreview',
            name='created_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='blog_previews', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostreviewcomment',
            name='commenter',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='blog_review_comments', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostreviewcomment',
            name='resolved_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='resolved_blog_comments', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostrevision',
            name='blog',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='revisions', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='blogpostrevision',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='blog_revisions', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostworkflow',
            name='approved_by',
            field=models.ForeignKey(blank=True, help_text='User who approved the post', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_blogs', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostworkflow',
            name='assigned_reviewer',
            field=models.ForeignKey(blank=True, help_text='Reviewer assigned to review this post', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_blog_reviews', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostworkflow',
            name='blog',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='workflow', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='blogpostworkflow',
            name='published_by',
            field=models.ForeignKey(blank=True, help_text='User who published the post', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_blogs', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostworkflow',
            name='rejected_by',
            field=models.ForeignKey(blank=True, help_text='User who rejected the post', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='rejected_blogs', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostworkflow',
            name='submitted_by',
            field=models.ForeignKey(help_text='User who submitted for review', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='blog_submissions', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='blogpostreviewcomment',
            name='workflow',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='review_comments', to='blog_pages_management.blogpostworkflow'),
        ),
        migrations.AddField(
            model_name='blogseometadata',
            name='blog',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='seo_metadata', to='blog_pages_management.blogpost'),
        ),
        migrations.AddField(
            model_name='contentblocktemplate',
            name='website',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_block_templates', to='websites.website'),
        ),
        migrations.AddField(
            model_name='blogcontentblock',
            name='template',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='blog_blocks', to='blog_pages_management.contentblocktemplate'),
        ),
        migrations.AddField(
            model_name='contentperformancemetrics',
            name='website',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_metrics', to='websites.website'),
        ),
        migrations.AddField(
            model_name='contentsnippet',
            name='created_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_snippets', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='contentsnippet',
            name='website',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_snippets', to='websites.website'),
        ),
        migrations.AddField(
            model_name='contenttemplate',
            name='category',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='blog_pages_management.blogcategory'),
        ),
        migrations.AddField(
            model_name='contenttemplate',
            name='created_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_templates', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='contenttemplate',
            name='tags',
            field=models.ManyToManyField(blank=True, to='blog_pages_management.blogtag'),
        ),
        migrations.AddField(
            model_name='contenttemplate',
            name='website',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='content_templates', to='websites.website'),
        ),
        migrations.AddField(
            model_name='ctablock',
            name='website',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cta_blocks', to='websites.website'),
        ),
        migrations.AddField(
            model_name='blogctaplacement',
            name='cta_block',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='blog_placements', to='blog_pages_management.ctablock'),
        ),
        migrations.AddField(
            model_name='editoranalytics',
            name='user',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='editor_analytics', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='editoranalytics',
            name='website',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='editor_analytics', to='websites.website'),
        ),
        migrations.AddField(
            model_name='faqschema',
            name='blog',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='faq_schemas', to='blog_pages_management.blogpost'),
        ),
        migrations.AddIndex(
            model_name='previewtokenratelimit',
            index=models.Index(fields=['token', 'is_blocked'], name='blog_pages__token_cf6f6d_idx'),
        ),
        migrations.AddField(
            model_name='servicepageautosave',
            name='saved_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='servicepageautosave',
            name='service_page',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='autosaves', to='service_pages_management.servicepage'),
        ),
        migrations.AddField(
            model_name='servicepageeditlock',
            name='locked_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='servicepageeditlock',
            name='service_page',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='edit_lock', to='service_pages_management.servicepage'),
        ),
        migrations.AddField(
            model_name='servicepagepreview',
            name='created_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='servicepagepreview',
            name='service_page',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='previews', to='service_pages_management.servicepage'),
        ),
        migrations.AddField(
            model_name='servicepagerevision',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='service_page_revisions', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='servicepagerevision',
            name='service_page',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='revisions', to='service_pages_management.servicepage'),
        ),
        migrations.AddField(
            model_name='workflowtransition',
            name='transitioned_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='blog_workflow_transitions', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='workflowtransition',
            name='workflow',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transitions', to='blog_pages_management.blogpostworkflow'),
        ),
        migrations.AddIndex(
            model_name='audittrail',
            index=models.Index(fields=['content_type', 'content_id'], name='blog_pages__content_9278ad_idx'),
        ),
        migrations.AddIndex(
            model_name='audittrail',
            index=models.Index(fields=['action', 'performed_at'], name='blog_pages__action_3f5c43_idx'),
        ),
        migrations.AddIndex(
            model_name='audittrail',
            index=models.Index(fields=['performed_by', 'performed_at'], name='blog_pages__perform_ed7873_idx'),
        ),
        migrations.AddIndex(
            model_name='blogedithistory',
            index=models.Index(fields=['blog', 'edited_at'], name='blog_pages__blog_id_954766_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostanalytics',
            index=models.Index(fields=['time_in_draft'], name='blog_pages__time_in_14b25b_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostanalytics',
            index=models.Index(fields=['total_edits'], name='blog_pages__total_e_2f76c5_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostanalytics',
            index=models.Index(fields=['click_velocity'], name='blog_pages__click_v_4e9381_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostautosave',
            index=models.Index(fields=['blog', 'saved_at'], name='blog_pages__blog_id_10e3fb_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostautosave',
            index=models.Index(fields=['saved_by', 'saved_at'], name='blog_pages__saved_b_bbfa31_idx'),
        ),
        migrations.AddIndex(
            model_name='blogposteditlock',
            index=models.Index(fields=['blog', 'is_active', 'expires_at'], name='blog_pages__blog_id_7cc036_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostpreview',
            index=models.Index(fields=['token', 'is_active', 'expires_at'], name='blog_pages__token_ba215b_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostrevision',
            index=models.Index(fields=['blog', 'is_current'], name='blog_pages__blog_id_0b0a70_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostrevision',
            index=models.Index(fields=['created_at'], name='blog_pages__created_828b32_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='blogpostrevision',
            unique_together={('blog', 'revision_number')},
        ),
        migrations.AddIndex(
            model_name='blogpostworkflow',
            index=models.Index(fields=['status', 'assigned_reviewer'], name='blog_pages__status_fd53bc_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostworkflow',
            index=models.Index(fields=['submitted_at'], name='blog_pages__submitt_caef24_idx'),
        ),
        migrations.AddIndex(
            model_name='blogpostreviewcomment',
            index=models.Index(fields=['workflow', 'is_resolved'], name='blog_pages__workflo_6c16a3_idx'),
        ),
        migrations.AddIndex(
            model_name='blogcontentblock',
            index=models.Index(fields=['blog', 'is_active'], name='blog_pages__blog_id_7df106_idx'),
        ),
        migrations.AddIndex(
            model_name='contentperformancemetrics',
            index=models.Index(fields=['website', 'period_start'], name='blog_pages__website_012996_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='contentperformancemetrics',
            unique_together={('website', 'period_start', 'period_end')},
        ),
        migrations.AddIndex(
            model_name='contentsnippet',
            index=models.Index(fields=['website', 'is_active'], name='blog_pages__website_82a75c_idx'),
        ),
        migrations.AddIndex(
            model_name='contenttemplate',
            index=models.Index(fields=['website', 'template_type', 'is_active'], name='blog_pages__website_58c75c_idx'),
        ),
        migrations.AddIndex(
            model_name='ctablock',
            index=models.Index(fields=['website', 'is_active'], name='blog_pages__website_76db93_idx'),
        ),
        migrations.AddIndex(
            model_name='blogctaplacement',
            index=models.Index(fields=['blog', 'is_active'], name='blog_pages__blog_id_0d2322_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='blogctaplacement',
            unique_together={('blog', 'cta_block', 'placement_type', 'position')},
        ),
        migrations.AddIndex(
            model_name='editoranalytics',
            index=models.Index(fields=['website', 'total_posts_published'], name='blog_pages__website_ba42d6_idx'),
        ),
        migrations.AddIndex(
            model_name='editoranalytics',
            index=models.Index(fields=['average_clicks_per_post'], name='blog_pages__average_10cc35_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='editoranalytics',
            unique_together={('user', 'website')},
        ),
        migrations.AlterUniqueTogether(
            name='servicepagerevision',
            unique_together={('service_page', 'revision_number')},
        ),
        migrations.AddIndex(
            model_name='workflowtransition',
            index=models.Index(fields=['workflow', 'transitioned_at'], name='blog_pages__workflo_a297e1_idx'),
        ),
    ]
